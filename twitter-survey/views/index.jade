doctype html
html(ng-app="twitterSurvey")
  // ASSIGN OUR ANGULAR MODULE
  head
      // META
      meta(charset='utf-8')
      meta(name='viewport', content='width=device-width, initial-scale=1')
      // Optimize mobile viewport
      title Twitter Umfrage
      // SCROLLS
      link(rel='stylesheet', href='//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css')
      // load bootstrap
      link(rel='stylesheet', href='//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css')
      link(rel='stylesheet', href='assets/styles.css')
      style.
          html 					{ overflow-y:scroll; }
          body 					{ padding-top:50px; }
          #profile-list 				{ margin-bottom:30px; }
          #profile-form 	 			{ margin-bottom:50px; }
          // SPELLS
      script(src='https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js')
      script(src='//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.1/angular-ui-router.min.js')
      script(src='js/core.js')
      // load our main application
      // load angular
      script(src='js/controllers/main.js')
      // load up our controller
      script(src='js/services/profiles.js')
      // load our profile service
      


  body
      .container(ng-controller="mainCtrl as vm")
          .row  
            .col-xs-6
              img(src='assets/kit.jpg').img-logo
            .col-xs-6
              img(src='assets/ksri.jpg').img-logo
          .jumbotron
              h2 Wer nutzt Twitter? Eine Studie
              h3
                  | Diese Umfrage richtet sich an deutsche Twitternutzer und wird nicht mehr als 
                  span.label.label-info eine Minute
                  |  in Anspruch nehmen.
          .panel.panel-default
            .panel-body.text-center
              #profile-form.row
                  .col-sm-6.col-sm-offset-3
                      div(ng-if='step == 1')
                        form
                            .form-group
                                label Twitter-Name (Screen Name):
                                input.form-control.input-lg(type='text', placeholder='Twitter Name', ng-model='formData.screen_name')
                            button.btn.btn-primary.btn-lg(type='submit', ng-click='checkTwitter();stepperUp()') Account prüfen
                                
                      div(ng-if='step == 2 || step == 3')
                        h2 {{twitterdata.twittername}}
                        
                        img(src='{{twitterdata.picture_url}}').img-thumbnail.img-responsive.center-block
                        br
                        button.btn.btn-primary.btn-lg(type='submit', ng-click='stepperUp()') Das bin ich
                        button.btn.btn-danger.btn-lg(type='submit', ng-click='stepperDown()') Das bin ich nicht
                                
                      div(ng-if='step == 3')
                        form
                            .form-group
                              label Alter (z.B. 34):
                              input.form-control.input-lg(type='number', placeholder='Alter (z.B. 32)', ng-model='formData.age')
                            .form-group
                              label Geschlecht:
                              .radio
                                  label
                                      input#male(type='radio', name='optionsRadios', value='male', ng-model='formData.gender')
                                      | 					    Männlich
                              .radio
                                  label
                                      input#female(type='radio', name='optionsRadios', value='female', ng-model='formData.gender')
                                      | 					    Weiblich
                              br
                            button.btn.btn-primary.btn-lg(type='submit', ng-click='createProfile(); stepperUp()') Angaben absenden
                            button.btn.btn-default.btn-lg(type='submit', ng-click='stepperDown()') zurück
                              
              .jumbotron(ng-if='step == 4')
                h1 Vielen Dank für Ihre Teilnahme
                div
                  | Wenn Sie über die Studie informiert bleiben wollen, können Sie gerne Ihre E-Mail Adresse hinterlassen und über Neuigkeiten informiert werden.
                  label Ihre E-Mail Adresse:
                  input.form-control.input-lg(type='text', placeholder='E-Mail Adresse', ng-model='formData.email')
                        
              .text-center.text-muted
                  p
                      | Bei Fragen können Sie sich jederzeit an
                      a(href='mailto:twitter-research@web.de') Robin Hirt
                      |  wenden.
                  p
                      | Lesen Sie die
                      a(href='#') Datenschutzbestimmungen
                      | .
          ul(ng-repeat="profile in profiles | limitTo:-5 | orderBy:'time':true")
            li {{profile.screen_name}} , {{profile.age}}, {{profile.gender}}
